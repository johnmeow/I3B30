<!DOCTYPE html>
<html>
	<head>
		<meta charset = "utf-8">
		<title>length conversion</title>
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body>
	
		<header class = "banner">
			<h1>單位換算</h1>
			<p>unit conversion</p>
		</header>
		
		<nav>
			<ul>
				<li><a href = "length.html">長度換算</a></li>
				<li><a href = "weight.html">重量換算</a></li>
				<li><a href = "volume.html">容積換算</a></li>
				<li><a href = "temperature.html">溫度換算</a></li>
				<li><a href = "time.html">時間換算</a></li>
				<li><a href = "index.html">回首頁</a></li>
			</ul>
		</nav>
		
		<main>
			<section>
				<h2>長度換算</h2>
				<article>
					<p>從：</p>
					<form>
						<input placeholder="輸入數值..." type="number" name="input1" id="input1" onkeyup="cal(input1,unit1,input2,unit2);">
						<select id="unit1" name="unit1" title="kilometer" onchange="this.title=this.options[this.selectedIndex].title;cal(input1,unit1,input2,unit2);">
						　<option value="km" title="kilometer">km</option>
						　<option value="m" title="meter">m</option>
						　<option value="cm" title="centimeter">cm</option>
						　<option value="mm" title="millimeter">mm</option>
						　<option value="um" title="micrometer">um</option>
						　<option value="nm" title="nanometer">nm</option>
						　<option value="mi" title="miles">mi</option>
						　<option value="yd" title="yard">yd</option>
						　<option value="ft" title="feet">ft</option>
						　<option value="in" title="inch">in</option>
						　<option value="nmi" title="nautical mile">nmi</option>
						　<option value="mil" title="thousand of an inch">mil</option>
						　<option value="micron" title="micron">micron</option>
						</select>
					</form>
					<p>到：</p>
					<form>
						<input placeholder="輸入數值..." type="number" name="input2" id="input2" onkeyup="cal(input2,unit2,input1,unit1);">
						<select id="unit2" name="unit2" title="kilometer" onchange="this.title=this.options[this.selectedIndex].title;cal(input1,unit1,input2,unit2);">
						　<option value="km" title="kilometer">km</option>
						　<option value="m" title="meter">m</option>
						　<option value="cm" title="centimeter">cm</option>
						　<option value="mm" title="millimeter">mm</option>
						　<option value="um" title="micrometer">um</option>
						　<option value="nm" title="nanometer">nm</option>
						　<option value="mi" title="miles">mi</option>
						　<option value="yd" title="yard">yd</option>
						　<option value="ft" title="feet">ft</option>
						　<option value="in" title="inch">in</option>
						　<option value="nmi" title="nautical mile">nmi</option>
						　<option value="mil" title="thousand of an inch">mil</option>
						　<option value="micron" title="micron">micron</option>
						</select>
					</form>
				</article>
			</section>
		</main>
		
		<aside>
			<h2>換算</h2>
			<br>
			<b id="formula">1 km = 1 km</b>
		</aside>
		
		<footer>
			<p>unit conversion page</p>
		</footer>
		
		<script>
			function cal(input, unit, output, unit_out)
			{
				//				km		m		cm		mm		um		nm		mi		yd		ft		in		nmi		mil		micron
				var ratio = [1000000,	1000,	10,		1,  0.001, 0.000001, 1609344,  914.4,	304.8,	  25.4,  1852000,0.0254,0.001];
				var n = roundX(6, ratio[unit.selectedIndex] / ratio[unit_out.selectedIndex]);
				output.value = input.value * n;
				//change formula
				var nstring = "1 " + unit.options[unit.selectedIndex].value + " = " + n + " " + unit_out.options[unit_out.selectedIndex].value;
				document.getElementById("formula").innerHTML = nstring;
			}
			function roundX(n, value)
			{
				var a = 1;
				for(var i = 0; i < n; i++) a *= 10;
				return Math.round(value * a)/a;
			}
		</script>
		
	</body>
</html>